<!DOCTYPE html>
<!-- saved from url=(0041)http://johnny.github.com/jquery-sortable/ -->
<html><head>
    <title>jQuery Sortable</title>
    <link href="http://johnny.github.com/jquery-sortable/css/vendor.css" rel="stylesheet">
    <link href="http://johnny.github.com/jquery-sortable/css/application.css" rel="stylesheet">
  
  <script src="http://johnny.github.com/jquery-sortable/js/application.js"></script>
  <script src="http://johnny.github.com/jquery-sortable/js/jquery-sortable-min.js"></script>


<style>
span { 
  background-color: white;
}

.inEdit {outline: 1px green dashed; background-color: yellow;}


</style>


</head>
  <body class="">
    
    <div class="bootstrap-container">
      <p onDblClick="this.contentEditable=true;this.className='inEdit';" onblur="this.contentEditable=false;this.className='';">This paragraph uses some simple script to be editable. Double-click the text to begin editing.</p>


<div id="examples">
  <div class="page-header">
    <h1>Examples</h1>
  </div>

  <div id="handle">
    <h2>Sort handle and limited drag/drop</h2>
<div class="row">
  <div class="span12 example">
    <div class="CodeRay">
  <div class="code"><pre><span class="predefined">$</span>(<span class="string"><span class="delimiter">"</span><span class="content">ol.simple_with_drop</span><span class="delimiter">"</span></span>).sortable({
  <span class="key">group</span>: <span class="string"><span class="delimiter">'</span><span class="content">no-drop</span><span class="delimiter">'</span></span>,
  <span class="key">handle</span>: <span class="string"><span class="delimiter">'</span><span class="content">i.icon-move</span><span class="delimiter">'</span></span>,
  <span class="function">onDragStart</span>: <span class="keyword">function</span> (item, container, _super) {
    <span class="comment">// Duplicate items of the no drop area</span>
    <span class="keyword">if</span>(!container.options.drop)
      item.clone().insertAfter(item)
    _super(item)
  }
})
<span class="predefined">$</span>(<span class="string"><span class="delimiter">"</span><span class="content">ol.simple_with_no_drop</span><span class="delimiter">"</span></span>).sortable({
  <span class="key">group</span>: <span class="string"><span class="delimiter">'</span><span class="content">no-drop</span><span class="delimiter">'</span></span>,
  <span class="key">drop</span>: <span class="predefined-constant">false</span>
})
<span class="predefined">$</span>(<span class="string"><span class="delimiter">"</span><span class="content">ol.simple_with_no_drag</span><span class="delimiter">"</span></span>).sortable({
  <span class="key">group</span>: <span class="string"><span class="delimiter">'</span><span class="content">no-drop</span><span class="delimiter">'</span></span>,
  <span class="key">drag</span>: <span class="predefined-constant">false</span>
})</pre></div>
</div>

  </div>
  <div class="span4">
    <ul>
      <li>
        Drag the items by a
        <strong>handle</strong>
      </li>
      <li>
        Pure
        <strong>drag/drop</strong>
        container
      </li>
      <li>
        <strong>Clone</strong>
        items on drag
      </li>
    </ul>
    <p></p><div class="btn btn-primary show-code" data-toggle="button"><i class="icon-chevron-down"></i> show me the code</div><p></p>

    <h3>Serialize result</h3>
    <pre id="serialize_output2">Item 1,Item 2,Item 6,Item 4
Item 1,Item 3,Item 3,Item 4,Item 2,Item 5,Item 5,Item 6</pre>
  </div>


  <div class="span4">
    <h3>I'm draggable and droppable</h3>
    <ol id="workspace" class="simple_with_drop vertical">
      <li>
          <i class="icon-move"></i>
          <span contenteditable="true">Item 1</span>
        </li>
        <li>
          <i class="icon-move"></i>
          <textarea>Item 2</textarea>
        </li>
        <li>
          <i class="icon-move"></i>
          <span contenteditable="true">Item 3</span>
        </li>
        <li>
          <i class="icon-move"></i>
          <span contenteditable="true">Item 4</span>
        </li>
        <li>
          <i class="icon-move"></i>
          <span contenteditable="true">Item 5</span>
        </li>
        <li>
          <i class="icon-move"></i>
          Item 6
        </li>
    </ol>
  </div>
  <div class="span4">
    <h3>I'm only draggable (I clone) </h3>
    <ol class="simple_with_no_drop vertical">
      <li class="highlight">
          <i class="icon-move"></i>
          Item 1
        </li>
        <li class="highlight">
          <i class="icon-move"></i>
          Item 2
        </li>
        <li class="highlight">
          <i class="icon-move"></i>
          Item 3
        </li>
    </ol>
    <h3>I'm only droppable (trash can?)</h3>
    <ol class="simple_with_no_drag vertical">
      <li>
          <i class="icon-move"></i>
          <span contenteditable="true">Item 1</span>
        </li>
        <li>
          <i class="icon-move"></i>
          Item 2
        </li>
        <li>
          <i class="icon-move"></i>
          Item 3
        </li>
    </ol>
  </div>
</div>
  </div>
  
  <div id="limited-target">
    <h2>Connected lists with limited drop targets</h2>
<div class="row">
  <div class="span12 example">
    <div class="CodeRay">
  <div class="code"><pre><span class="keyword">var</span> group = <span class="predefined">$</span>(<span class="string"><span class="delimiter">"</span><span class="content">ol.limited_drop_targets</span><span class="delimiter">"</span></span>).sortable({
  <span class="key">group</span>: <span class="string"><span class="delimiter">'</span><span class="content">limited_drop_targets</span><span class="delimiter">'</span></span>,
  <span class="function">isValidTarget</span>: <span class="keyword">function</span>  (item, container) {
    <span class="keyword">if</span>(item.is(<span class="string"><span class="delimiter">"</span><span class="content">.highlight</span><span class="delimiter">"</span></span>))
      <span class="keyword">return</span> <span class="predefined-constant">true</span>
    <span class="keyword">else</span> {
      <span class="keyword">return</span> item.parent(<span class="string"><span class="delimiter">"</span><span class="content">ol</span><span class="delimiter">"</span></span>)[<span class="integer">0</span>] == container.el[<span class="integer">0</span>]
    }
  },
  <span class="function">onDrop</span>: <span class="keyword">function</span> (item, container, _super) {
    <span class="predefined">$</span>(<span class="string"><span class="delimiter">'</span><span class="content">#serialize_output</span><span class="delimiter">'</span></span>).text(group.sortable(<span class="string"><span class="delimiter">"</span><span class="content">serialize</span><span class="delimiter">"</span></span>).get().join(<span class="string"><span class="delimiter">"</span><span class="char">\n</span><span class="delimiter">"</span></span>))
    _super(item, container)
  },
  <span class="function">serialize</span>: <span class="keyword">function</span> (parent, children, isContainer) {
    <span class="keyword">return</span> isContainer ? children.join() : parent.text()
  }
})</pre></div>
</div>

  </div>




  <div class="span4">
    <ul>
      <li>
        <strong>Limit the drop targets</strong>
        of the dragged item
      </li>
      <li>
        Customize
        <strong>serialization</strong>
        of the lists
      </li>
    </ul>
    <p></p><div class="btn btn-primary show-code" data-toggle="button"><i class="icon-chevron-down"></i> show me the code</div><p></p>
    
    <h3>Serialize result</h3>
    <pre id="serialize_output">Item 1,Item 2,Item 6,Item 4
Item 1,Item 3,Item 3,Item 4,Item 2,Item 5,Item 5,Item 6</pre>
  </div>

  <div class="span4">
    <ol class="limited_drop_targets vertical">
      <li class="highlight"><span contenteditable="true">Item 1</span></li>
        <li><span contenteditable="true">Item 2</span></li>
        
        
        
        <li>Item 6</li><li style="" class="">Item 4</li>
    </ol>
  </div>
  <div class="span4">
    <ol class="limited_drop_targets vertical">
      <li>Item 1</li><li style="" class="">Item 3</li><li class="highlight" style="">Item 3</li><li class="highlight" style="">Item 4</li>
        <li>Item 2</li><li class="highlight" style="">Item 5</li>
        
        
        <li class="highlight">Item 5</li>
        <li class="highlight">Item 6</li>
    </ol>
  </div>
</div>
  </div>
  


<footer class="footer">
  <p>Created by
  <a href="https://github.com/johnny">Jonas von Andrian</a>.</p>
  
  <p>Built with <a href="http://twitter.github.com/bootstrap/">Bootstrap</a>.
  Icons from <a href="http://glyphicons.com/">Glyphicons Free</a>.</p>
</footer>
    </div>


    <!-- weird clicking functionality, only sees changes from span contenteditables... but DOES drag from clone to menu
    only updates when you MOVE something -->
    
      <script>

//var group = $("ol.limited_drop_targets").sortable({
//  group: 'limited_drop_targets',
//var group = $("ol.simple_with_drop").sortable({
var group = $("#workspace").sortable({
    group:  'no-drop', //'simple_with_drop',
    //handle: 'i.icon-move',
  onDragStart: function (item, container, _super) {
    // Duplicate items of the no drop area
    if(!container.options.drop)
      item.clone().insertAfter(item)
    _super(item)
  },
  /*isValidTarget: function  (item, container) {
    if(item.is(".highlight"))
      return true
    else {
      return item.parent("ol")[0] == container.el[0]
    }
  },*/
  onDrop: function (item, container, _super) {
    $('#serialize_output2').text(group.sortable("serialize").get().join(""))
    _super(item, container)
  },
  serialize: function (parent, children, isContainer) {
    return isContainer ? children.join() : parent.text()
  }
})


  </script>
  

</body></html>